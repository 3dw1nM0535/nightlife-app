{"version":3,"sources":["../../../server/routes/user/user.js"],"names":["router","Router","post","req","res","data","body","findOne","email","then","user","isValidPassword","password","json","toJSON","status","errors","global"],"mappings":";;;;;;AAGA;;;;AACA;;;;;;AAJA;AACA;AACA;AAIA,IAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEA;AACA;AACA;AACAD,OAAOE,IAAP,CAAY,GAAZ,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAA,MACrBC,IADqB,GACZF,IAAIG,IADQ,CACrBD,IADqB;;AAE7B,iBAAKE,OAAL,CAAa,EAAEC,OAAOH,KAAKG,KAAd,EAAb,EAAoCC,IAApC,CAAyC,UAACC,IAAD,EAAU;AACjD,QAAIA,QAAQA,KAAKC,eAAL,CAAqBN,KAAKO,QAA1B,CAAZ,EAAiD;AAC/CR,UAAIS,IAAJ,CAAS,EAAEH,MAAMA,KAAKI,MAAL,EAAR,EAAT;AACD,KAFD,MAEO;AACLV,UAAIW,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB,EAAEG,QAAQ,EAAEC,QAAQ,kBAAV,EAAV,EAArB;AACD;AACF,GAND;AAOD,CATD;;kBAWejB,M","file":"user.js","sourcesContent":["////////////////////////////////////\n//User auth actions route handler //\n////////////////////////////////////\nimport express from \"express\";\nimport User from \"../../model/user\";\n\nconst router = express.Router();\n\n////////////////////////\n//Login route handler //\n////////////////////////\nrouter.post(\"/\", (req, res) => {\n  const { data } = req.body;\n  User.findOne({ email: data.email }).then((user) => {\n    if (user && user.isValidPassword(data.password)) {\n      res.json({ user: user.toJSON() });\n    } else {\n      res.status(400).json({ errors: { global: \"Invalid password\" } });\n    }\n  });\n});\n\nexport default router;\n"]}